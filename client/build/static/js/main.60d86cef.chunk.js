(this.webpackJsonplabinventory=this.webpackJsonplabinventory||[]).push([[0],{256:function(e,t,s){},284:function(e,t,s){},451:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(1),n=s.n(a),i=s(58),r=s.n(i),o=(s(256),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,479)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),c(e),a(e),n(e),i(e)}))}),l=(s(257),s(258),s(259),s(260),s(261),s(12)),j=s(13),d=s(14),h=s(15),u=s(20),b=s(31),O=s.n(b),x=function(e){e?O.a.defaults.headers.common.Authorization=e:delete O.a.defaults.headers.common.Authorization},p=s(125),m="GET_ERRORS",f="USER_LOADING",v="SET_CURRENT_USER",g="GET_REQUESTS",y="REQUESTS_FAILED",N="ADD_REQUEST",k="GET_LAST_REQUEST",S="DELETE_REQUEST",w="GET_ORDERS",C="ORDERS_FAILED",M="ADD_ORDER",q="GET_LAST_ORDER",E="DELETE_ORDER",L="EDIT_ORDER",D="GET_INSTOCK",I="INSTOCK_FAILED",R="ADD_INSTOCK",T="GET_LAST_INSTOCK",_="DELETE_INSTOCK",A="EDIT_LOCATION",F="EDIT_DETAILS",U="GET_OUTSTOCK",P="OUTSTOCK_FAILED",Q="ADD_OUTSTOCK",B="GET_LAST_OUTSTOCK",G=function(e){return{type:v,payload:e}},K=function(){return function(e){localStorage.removeItem("jwtToken"),x(!1),e(G({}))}},X=function(e){return{type:k,payload:e}},Y=function(){return function(e){e(V()),O.a.get("/api/stock/requests/requests").then((function(e){return e.data})).then((function(t){return e(Z(t))})).catch((function(t){return e(J(t.message))}))}},V=function(){return{type:"REQUESTS_LOADING"}},Z=function(e){return{type:g,payload:e}},J=function(e){return{type:y,payload:e}},z=function(e){return{type:N,payload:e}},H=function(e){return{type:q,payload:e}},W=function(){return function(e){e($()),O.a.get("/api/stock/orders/orders").then((function(e){return e.data})).then((function(t){return e(ee(t))})).catch((function(t){return e(te(t.message))}))}},$=function(){return{type:"ORDERS_LOADING"}},ee=function(e){return{type:w,payload:e}},te=function(e){return{type:C,payload:e}},se=function(e){return{type:M,payload:e}},ce=function(e){return{type:S,payload:e}},ae=function(e){return{type:L,payload:e}},ne=function(e){return{type:T,payload:e}},ie=function(){return function(e){e(re()),O.a.get("/api/stock/instock/instock").then((function(e){return e.data})).then((function(t){return e(oe(t))})).catch((function(t){return e(le(t.message))}))}},re=function(){return{type:"INSTOCK_LOADING"}},oe=function(e){return{type:D,payload:e}},le=function(e){return{type:I,payload:e}},je=function(e){return function(t){O.a.post("/api/stock/instock/addinstock",e).then((function(e){return e.data})).then((function(e){t(de(e))})).catch((function(e){alert("errore in add in stock!!!!! err = "+e),t({type:m,payload:e.response.data})}))}},de=function(e){return{type:R,payload:e}},he=function(e){return function(t){t(ue(e))}},ue=function(e){return{type:E,payload:e}},be=function(e){return{type:_,payload:e}},Oe=function(e){return function(t){O.a.post("/api/stock/instock/editlocation",e).then((function(e){return e.data})).then((function(e){t(xe(e))})).catch((function(e){alert("errore in edit LOCATION!!!!! err = "+e),t({type:m,payload:e.response.data})}))}},xe=function(e){return{type:A,payload:e}},pe=function(e){return{type:F,payload:e}},me=function(){return{type:"OUTSTOCK_LOADING"}},fe=function(e){return{type:U,payload:e}},ve=function(e){return{type:P,payload:e}},ge=function(e){return function(t){O.a.post("/api/stock/outstock/addoutstock",e).then((function(e){return e.data})).then((function(e){t(ye(e))})).catch((function(e){alert("errore in add out of stock!!!!! err = "+e),t({type:m,payload:e.response.data})}))}},ye=function(e){return{type:Q,payload:e}},Ne=s(18),ke=s(43),Se=s(230),we=s(11),Ce=s(283),Me={isAuthenticated:!1,user:{},loading:!1},qe={},Ee=Object(ke.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(we.a)(Object(we.a)({},e),{},{isAuthenticated:!Ce(t.payload),user:t.payload});case f:return Object(we.a)(Object(we.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload;default:return e}},lastId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lastRequest:{id:0},lastOrder:{id:0},lastInStock:{id:0},lastOutOfStock:{id:0}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(we.a)(Object(we.a)({},e),{},{lastRequest:t.payload});case q:return Object(we.a)(Object(we.a)({},e),{},{lastOrder:t.payload});case T:return Object(we.a)(Object(we.a)({},e),{},{lastInStock:t.payload});case B:return Object(we.a)(Object(we.a)({},e),{},{lastOutOfStock:t.payload});default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,requests:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:null,requests:t.payload});case y:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:t.payload});case N:var s=t.payload;return Object(we.a)(Object(we.a)({},e),{},{requests:e.requests.concat(s)});case S:var c=t.payload;return Object(we.a)(Object(we.a)({},e),{},{requests:e.requests.filter((function(e){return e._id!==c}))});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:null,orders:t.payload});case C:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:t.payload});case M:var s=t.payload;return Object(we.a)(Object(we.a)({},e),{},{orders:e.orders.concat(s)});case L:var c=t.payload;return Object(we.a)(Object(we.a)({},e),{},{orders:e.orders.filter((function(e){return e._id!==c._id})).concat(c)});case E:var a=t.payload;return Object(we.a)(Object(we.a)({},e),{},{orders:e.orders.filter((function(e){return e._id!==a}))});default:return e}},instock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,instock:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:null,instock:t.payload});case I:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:t.payload});case R:var s=t.payload;return Object(we.a)(Object(we.a)({},e),{},{instock:e.instock.concat(s)});case _:var c=t.payload;return Object(we.a)(Object(we.a)({},e),{},{instock:e.instock.filter((function(e){return e._id!==c}))});case A:var a=t.payload;return Object(we.a)(Object(we.a)({},e),{},{instock:e.instock.filter((function(e){return e._id!==a._id})).concat(a)});case F:var n=t.payload;return Object(we.a)(Object(we.a)({},e),{},{instock:e.instock.filter((function(e){return e._id!==n._id})).concat(n)});default:return e}},outstock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,outstock:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:null,outstock:t.payload});case P:return Object(we.a)(Object(we.a)({},e),{},{isLoading:!1,errMess:t.payload});case Q:var s=t.payload;return Object(we.a)(Object(we.a)({},e),{},{outstock:e.outstock.concat(s)});default:return e}}}),Le=[Se.a],De=Object(ke.createStore)(Ee,{},Object(ke.compose)(ke.applyMiddleware.apply(void 0,Le),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||ke.compose)),Ie=(s(284),s(17)),Re=s(453),Te=s(454),_e=s(455),Ae=s(456),Fe=s(457),Ue=s(458),Pe=s(459),Qe=s(460),Be=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).onLogoutClick=function(e){e.preventDefault(),c.props.logoutUser()},c.state={isNavOpen:!1},c.toggleNav=c.toggleNav.bind(Object(Ie.a)(c)),c.onLogoutClick=c.onLogoutClick.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){var e=this.props.auth.user;return Object(c.jsxs)(n.a.Fragment,{children:[Object(c.jsx)(Re.a,{fluid:!0,children:Object(c.jsxs)("div",{className:"container text-light",children:[Object(c.jsxs)("div",{class:"row",children:[Object(c.jsx)("div",{class:"col"}),Object(c.jsxs)("div",{class:"col-6",children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"LAB"})]}),Object(c.jsx)("div",{class:"col"})]}),Object(c.jsxs)("div",{class:"row",children:[Object(c.jsx)("div",{class:"col-sm-4"}),Object(c.jsx)("div",{class:"col-sm-5",children:Object(c.jsx)("h2",{children:"INVENTORY"})}),Object(c.jsx)("div",{class:"col"})]})]})}),Object(c.jsx)(Te.a,{dark:!0,sticky:"top",expand:"md",children:Object(c.jsxs)("div",{className:"container justify-content-between",children:[Object(c.jsx)(_e.a,{className:"ml-0 mr-sm-2",children:Object(c.jsx)(u.c,{className:"nav-link",to:"/",children:!0===this.props.auth.isAuthenticated?Object(c.jsx)("i",{className:"fa fa-user fa-lg"}):Object(c.jsx)("i",{className:"fa fa-info-circle fa-lg"})})}),Object(c.jsx)(Ae.a,{onClick:this.toggleNav}),Object(c.jsx)(Fe.a,{isOpen:this.state.isNavOpen,navbar:!0,className:"justify-content-center",children:!0===this.props.auth.isAuthenticated?Object(c.jsxs)(Ue.a,{navbar:!0,justified:!0,className:"justify-content-between",children:[Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/requests",children:Object(c.jsxs)("i",{className:"fa fa-list-alt fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Requests Board"})]})})}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/orders",children:Object(c.jsxs)("i",{className:"fa fa-truck fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Incoming Orders"})]})})}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/instock",children:Object(c.jsxs)("i",{className:"fa fa-folder-open fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"In stock"})]})})}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/outofstock",children:Object(c.jsxs)("i",{className:"fa fa-folder fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Out of stock"})]})})}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/stats",children:Object(c.jsxs)("i",{className:"fa fa-bar-chart fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Stats"})]})})}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(Qe.a,{outline:!0,className:"text-dark ml-3",onClick:this.onLogoutClick,children:Object(c.jsxs)("i",{class:"fa fa-sign-out",children:[" ",Object(c.jsxs)("span",{className:"menu",children:["Logout user: ",e.name]})]})})})]}):Object(c.jsxs)(Ue.a,{navbar:!0,className:"justify-content-end ml-auto w-100",children:[Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/register",children:Object(c.jsxs)("i",{className:"fa fa-user-plus fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Signup"})]})})}),Object(c.jsx)(Pe.a,{}),Object(c.jsx)(Pe.a,{children:Object(c.jsx)(u.c,{className:"nav-link",to:"/login",children:Object(c.jsxs)("i",{className:"fa fa-sign-in fa-lg",children:[" ",Object(c.jsx)("span",{className:"menu",children:"Login"})]})})})]})})]})})]})}}]),s}(a.Component);var Ge=function(e){return Object(c.jsxs)(n.a.Fragment,{children:[Object(c.jsxs)("div",{class:"container",children:[Object(c.jsx)("div",{children:Object(c.jsx)("hr",{})}),Object(c.jsx)("div",{children:Object(c.jsx)("br",{})})]}),Object(c.jsx)("footer",{children:Object(c.jsxs)("div",{class:"container",children:[Object(c.jsxs)("div",{class:"row justify-content-center",children:[Object(c.jsxs)("div",{class:"col col-xl-3 col-sm-2 vertical-line",children:[Object(c.jsx)("h6",{children:"EXPLORE"}),Object(c.jsxs)("ul",{class:"list-unstyled",children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"http://biology.unm.edu/",target:"_blank",class:"text-dark",children:"UNM Biology"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://ceti.unm.edu/",target:"_blank",class:"text-dark",children:"UNM CETI"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://isdci.org/",target:"_blank",class:"text-dark",children:"ISDCI"})})]})]}),Object(c.jsx)("div",{class:"col col-xl-3 col-sm-2 vertical-line"}),Object(c.jsxs)("div",{class:"col col-xl-3 col-sm-2 vertical-line",children:[Object(c.jsx)("h7",{children:"FOLLOW"}),Object(c.jsxs)("ul",{class:"list-unstyled",children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://sites.google.com/site/irenesalinasremiro/about-me",target:"_blank",class:"text-dark",children:Object(c.jsx)("i",{class:"fa fa-rss"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"https://twitter.com/drsalinaslab",target:"_blank",class:"text-dark",children:Object(c.jsx)("i",{class:"fa fa-twitter"})})})]})]}),Object(c.jsx)("div",{class:"vertical-line"})]}),Object(c.jsxs)("div",{class:"row",children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})]})})]})},Ke=s(478),Xe=s(461),Ye=s(462),Ve=s(463),Ze=s(464),Je=s(465),ze=s(466),He=s(28),We={fetchLastOrder:function(){return function(e){O.a.get("/api/stock/orders/lastorder").then((function(e){return e.data})).then((function(t){return e(H(t))})).catch((function(t){return e(te(t.message))}))}},addOrder:function(e){return t=e,function(e){O.a.post("/api/stock/orders/addorder",t).then((function(e){return e.data})).then((function(t){e(se(t))})).catch((function(t){alert("errore in add order!!!!! err = "+t),e({type:m,payload:t.response.data})}))};var t},deleteRequest:function(e){return t=e,function(e){e(ce(t))};var t}},$e=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,isError:!1,pdfdata:"",tracking:""},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onTrackingChange=c.onTrackingChange.bind(Object(Ie.a)(c)),c.onFileChange=c.onFileChange.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"componentDidMount",value:function(){this.props.fetchLastOrder()}},{key:"onTrackingChange",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({tracking:t}):this.setState({tracking:""})}},{key:"onFileChange",value:function(e){e.preventDefault();var t=e.target.files[0];t&&"application/pdf"===t.type?this.setState({pdfdata:t}):this.setState({pdfdata:""})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.tracking||!this.state.pdfdata)return this.setState({isError:!0});this.props.fetchLastOrder();var t=this.props.lastId.lastOrder[0].id+1,s=this.props.request._id,c=this.state.tracking,a=(new Date).toISOString(),n=this.props.auth.user.name,i=this.state.pdfdata,r=new FormData;r.append("item_id",s),r.append("id",t),r.append("tracking",c),r.append("orderdate",a),r.append("orderuser",n),r.append("pdfdata",i),this.props.addOrder(r),this.props.deleteRequest(s),this.toggleModal()}},{key:"render",value:function(){var e=this.props.request;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("span",{className:"text-info",children:"Purchased"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Purchase confirmation of:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.article}),Object(c.jsx)("h5",{className:"text-info",children:e.index})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"tracking",children:"Tracking number: "}),Object(c.jsx)(ze.a,{type:"text",name:"tracking",id:"tracking",value:this.state.tracking,onChange:this.onTrackingChange,invalid:this.state.isError&&!this.state.tracking}),this.state.isError&&!this.state.tracking?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Traking number is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"pdfdata",children:"Choose the Internal Order Form to upload: "}),Object(c.jsx)(ze.a,{type:"file",name:"pdfdata",id:"pdfdata",onChange:this.onFileChange}),this.state.isError&&!this.state.pdfdata?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"PDF file is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),et=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),We)($e)),tt=s(38),st=s.n(tt),ct=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.request;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[" ",e.id," "]}),Object(c.jsxs)("td",{children:[" ",e.article," "]}),Object(c.jsxs)("td",{children:[" ",e.index," "]}),Object(c.jsxs)("td",{children:[" ",e.quantity," "]}),Object(c.jsxs)("td",{children:[" ",e.unitcost," "]}),Object(c.jsxs)("td",{children:[" ",Object(c.jsx)(st.a,{format:"ddd, MMM DD, YYYY",children:e.requestdate})," "]}),Object(c.jsxs)("td",{children:[" ",e.requestuser," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(et,{auth:this.props.auth,request:e})})]})}}]),s}(a.Component),at=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth,lastId:e.lastId}}))(ct)),nt=s(54),it=function(e){return e&&e.length},rt=function(e){return function(t){return!t||t.length<=e}},ot=function(e){return function(t){return t&&t.length>=e}},lt=function(e){return!isNaN(+e)},jt=function(e){return e&&+e>0},dt={fetchRequests:function(){return Y()},fetchLastRequest:function(){return function(e){O.a.get("/api/stock/requests/lastrequest").then((function(e){return e.data})).then((function(t){return e(X(t))})).catch((function(t){return e(J(t.message))}))}}},ht=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"componentDidMount",value:function(){this.props.fetchLastRequest()}},{key:"handleSubmit",value:function(e){this.props.fetchLastRequest();var t=this.props.lastId.lastRequest[0].id+1,s=Object(we.a)(Object(we.a)({id:t},e),{},{requestdate:(new Date).toISOString(),requestuser:this.props.auth.user.name});this.props.addRequest(s),this.props.fetchRequests(),this.toggleModal()}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("span",{className:"text-info",children:"Add a new Request"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsx)(Xe.a,{toggle:this.toggleModal,children:Object(c.jsx)("span",{className:"text-info",children:"New Request"})}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(nt.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(Je.a,{htmlFor:"article",children:"Article"}),Object(c.jsx)(nt.Control.text,{className:"form-control",model:".article",id:"article",name:"article",validators:{required:it,minLength:ot(2),maxLength:rt(100)}}),Object(c.jsx)(nt.Errors,{className:"text-danger",model:".article",show:"touched",component:"div",messages:{required:"Required",minLength:"Must be at least 2 characters",maxLength:"Must be 100 characters or less"}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(Je.a,{htmlFor:"index",children:"Index"}),Object(c.jsx)(nt.Control.text,{className:"form-control",model:".index",id:"index",name:"index",validators:{required:it,minLength:ot(2),maxLength:rt(100)}}),Object(c.jsx)(nt.Errors,{className:"text-danger",model:".index",show:"touched",component:"div",messages:{required:"Required",minLength:"Must be at least 2 characters",maxLength:"Must be 100 characters or less"}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(Je.a,{htmlFor:"quantity",children:"Quantity"}),Object(c.jsx)(nt.Control.text,{className:"form-control",model:".quantity",id:"quantity",name:"quantity",validators:{required:it,minLength:ot(1),maxLength:rt(30),isNumber:lt,isZero:jt}}),Object(c.jsx)(nt.Errors,{className:"text-danger",model:".quantity",show:"touched",component:"div",messages:{required:"Required",minLength:"Must be at least 1",maxLength:"Must be 30 characters or less",isNumber:"Must be a number",isZero:"Must be a valid quantity"}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)(Je.a,{htmlFor:"unitcost",children:"Unit cost"}),Object(c.jsx)(nt.Control.text,{className:"form-control",model:".unitcost",id:"unitcost",name:"unitcost",validators:{required:it,minLength:ot(1),maxLength:rt(30),isNumber:lt,isZero:jt}}),Object(c.jsx)(nt.Errors,{className:"text-danger",model:".unitcost",show:"touched",component:"div",messages:{required:"Required",minLength:"Must be at least 1 characters",maxLength:"Must be 30 characters or less",isNumber:"Must be a number",isZero:"Must be a valid quantity"}})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),ut=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),dt)(ht)),bt=function(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsxs)("div",{class:"col-3 text-center",children:[Object(c.jsx)("i",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(c.jsx)("h4",{children:"Loading..."})]})})})},Ot=function(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsx)("h4",{children:"There are currently no items."})})})})},xt={fetchRequests:function(){return Y()},addRequest:function(e){return t=e,function(e){O.a.post("/api/stock/requests/addrequest",t).then((function(e){return e.data})).then((function(t){e(z(t))})).catch((function(t){alert("errore in add request!!!!! err = "+t),e({type:m,payload:t.response.data})}))};var t}},pt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchRequests()}},{key:"render",value:function(){var e=this;return this.props.requests.isLoading?Object(c.jsx)(bt,{}):this.props.requests.errMess?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsxs)("h4",{children:[" ",this.props.requests.errMess," "]})})})}):Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("table",{className:"table table-sm table-striped table-boredered",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("tr",{children:Object(c.jsx)("th",{colSpan:"12",className:"bg-secondary text-white text-center h4 p-2",children:"REQUESTS BOARD"})}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Article"}),Object(c.jsx)("th",{children:"Index"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Unit Cost"}),Object(c.jsx)("th",{children:"Requested on"}),Object(c.jsx)("th",{children:"Requested by"}),Object(c.jsx)("th",{})]})]}),Object(c.jsx)("tbody",{children:this.props.requests.requests.map((function(t){return Object(c.jsx)(at,{request:t,auth:e.props.auth},t.id)}))})]}),0===this.props.requests.requests.length?Object(c.jsx)(Ot,{}):Object(c.jsx)("div",{}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsx)(ut,{auth:this.props.auth,addRequest:this.props.addRequest})})})}),Object(c.jsx)("br",{})]})}}]),s}(a.Component),mt=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth,requests:e.requests}}),xt)(pt)),ft=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).triggerPDF=c.triggerPDF.bind(Object(Ie.a)(c)),c.showFile=c.showFile.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"showFile",value:function(e){var t=new Blob([e],{type:"application/pdf"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{var s=window.URL.createObjectURL(t),c=document.createElement("a");c.href=s,c.target="_blank",c.click(),setTimeout((function(){window.URL.revokeObjectURL(s)}),100),window.open(s)}}},{key:"triggerPDF",value:function(){var e=this,t=this.props.item,s="/api/files/".concat(t.pdfname);fetch(s).then((function(e){return e.blob()})).then((function(t){return e.showFile(t)}))}},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(Qe.a,{outline:!0,onClick:this.triggerPDF,children:Object(c.jsx)("i",{className:"fa fa-file-pdf-o"})})})}}]),s}(a.Component),vt=s(467),gt={editOrder:function(e){return function(e){return function(t){O.a.post("/api/stock/orders/editorder",e).then((function(e){return e.data})).then((function(e){t(ae(e))})).catch((function(e){alert("errore in edit order!!!!! err = "+e),t({type:m,payload:e.response.data})}))}}(e)},fetchOrders:function(){return W()}},yt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,status:"",isError:!1},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onChangeStatus=c.onChangeStatus.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"onChangeStatus",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({status:t,isError:!1}):this.setState({status:""})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.status)return this.setState({isError:!0});var t={item_id:this.props.order._id,status:this.state.status};this.props.editOrder(t),this.props.fetchOrders(),this.toggleModal()}},{key:"render",value:function(){var e=this.props.order;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("i",{className:"fa fa-pencil"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Editing item:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.tracking}),Object(c.jsx)("h5",{className:"text-info",children:e.article})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"status",children:"Status: "}),Object(c.jsx)(vt.a,{sm:10,children:Object(c.jsxs)(ze.a,{type:"select",name:"status",id:"status",onChange:this.onChangeStatus,invalid:this.state.isError&&!this.state.status,children:[Object(c.jsx)("option",{value:"",children:"Select"}),Object(c.jsx)("option",{value:"On Schedule",children:"On Schedule"}),Object(c.jsx)("option",{value:"Delayed",children:"Delayed"}),Object(c.jsx)("option",{value:"Now arriving",children:"Now arriving"}),Object(c.jsx)("option",{value:"Arrived",children:"Arrived"})]})}),this.state.isError&&!this.state.status?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Status is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),Nt=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),gt)(yt)),kt={fetchLastInstock:function(){return function(e){O.a.get("/api/stock/instock/lastinstock").then((function(e){return e.data})).then((function(t){return e(ne(t))})).catch((function(t){return e(le(t.message))}))}},addInStock:function(e){return je(e)},deleteOrder:function(e){return he(e)},fetchOrders:function(){return W()}},St=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,isError:!1,imgdata:"",location:""},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onChangeLocation=c.onChangeLocation.bind(Object(Ie.a)(c)),c.onFileChange=c.onFileChange.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"componentDidMount",value:function(){this.props.fetchLastInstock()}},{key:"onChangeLocation",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({location:t}):this.setState({location:""})}},{key:"onFileChange",value:function(e){e.preventDefault();var t=e.target.files[0];t&&"image/jpeg"===t.type?this.setState({imgdata:t}):this.setState({imgdata:""})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.location||!this.state.imgdata)return this.setState({isError:!0});this.props.fetchLastInstock();var t=this.props.lastId.lastInStock[0].id+1,s=this.props.order._id,c=this.state.location,a=(new Date).toISOString(),n=this.props.auth.user.name,i=this.state.imgdata,r=new FormData;r.append("item_id",s),r.append("id",t),r.append("location",c),r.append("deliverydate",a),r.append("deliveryuser",n),r.append("imgdata",i),this.props.addInStock(r),this.props.deleteOrder(s),this.toggleModal()}},{key:"render",value:function(){var e=this.props.order;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("span",{className:"text-info",children:"Delivered"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Delivery confirmation of:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.tracking}),Object(c.jsx)("h5",{className:"text-info",children:e.article})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"location",children:"Location: "}),Object(c.jsx)(ze.a,{type:"text",name:"location",id:"location",value:this.state.location,onChange:this.onChangeLocation,invalid:this.state.isError&&!this.state.location}),this.state.isError&&!this.state.location?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Location description is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"imgdata",children:"Upload photo as evidence of location: "}),Object(c.jsx)(ze.a,{type:"file",name:"imgdata",id:"imgdata",onChange:this.onFileChange}),this.state.isError&&!this.state.imgdata?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Photo of location is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),wt=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),kt)(St)),Ct=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.order;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[" ",e.id," "]}),Object(c.jsxs)("td",{children:[" ",e.tracking," "]}),Object(c.jsxs)("td",{children:[" ",e.status," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(Nt,{order:e})}),Object(c.jsxs)("td",{children:[" ",e.article," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(ft,{item:e})}),Object(c.jsxs)("td",{children:[" ",Object(c.jsx)(st.a,{format:"ll",children:e.orderdate})," "]}),Object(c.jsxs)("td",{children:[" ",e.orderuser," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(wt,{auth:this.props.auth,order:e})})]})}}]),s}(a.Component),Mt=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth}}))(Ct)),qt={fetchOrders:function(){return W()},addInStock:function(e){return je(e)},deleteOrder:function(e){return he(e)}},Et=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchOrders()}},{key:"render",value:function(){var e=this;return this.props.orders.isLoading?Object(c.jsx)(bt,{}):this.props.orders.errMess?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsxs)("h4",{children:[" ",this.props.orders.errMess," "]})})})}):Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("table",{className:"table table-sm table-striped table-boredered",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("tr",{children:Object(c.jsx)("th",{colSpan:"12",className:"bg-secondary text-white text-center h4 p-2",children:"INCOMING ORDERS"})}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Tracking"}),Object(c.jsx)("th",{children:"Status"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:"Article"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:"Purchased on"}),Object(c.jsx)("th",{children:"Ordered by"}),Object(c.jsx)("th",{})]})]}),Object(c.jsx)("tbody",{children:this.props.orders.orders.map((function(t){return Object(c.jsx)(Mt,{order:t,auth:e.props.auth},t.id)}))})]}),0===this.props.orders.orders.length?Object(c.jsx)(Ot,{}):Object(c.jsx)("div",{})]})}}]),s}(a.Component),Lt=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth,orders:e.orders}}),qt)(Et)),Dt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).triggerPhoto=c.triggerPhoto.bind(Object(Ie.a)(c)),c.showFile=c.showFile.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"showFile",value:function(e){var t=new Blob([e],{type:"image/jpeg"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{var s=window.URL.createObjectURL(t),c=document.createElement("a");c.href=s,c.target="_blank",c.click(),setTimeout((function(){window.URL.revokeObjectURL(s)}),100),window.open(s)}}},{key:"triggerPhoto",value:function(){var e=this,t=this.props.item,s="/api/files/".concat(t.imgname);fetch(s).then((function(e){return e.blob()})).then((function(t){return e.showFile(t)}))}},{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(Qe.a,{outline:!0,onClick:this.triggerPhoto,children:Object(c.jsx)("i",{className:"fa fa-camera"})})})}}]),s}(a.Component),It={editDetails:function(e){return t=e,function(e){O.a.post("/api/stock/instock/editdetails",t).then((function(e){return e.data})).then((function(t){e(pe(t))})).catch((function(t){alert("errore in edit DETAILS!!!!! err = "+t),e({type:m,payload:t.response.data})}))};var t},fetchInStock:function(){return ie()}},Rt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,isErrorQty:!1,quantity:"",isErrorAliq:!1,aliquot:"",isErrorNotes:!1,stocknotes:""},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onChangeQuantity=c.onChangeQuantity.bind(Object(Ie.a)(c)),c.onChangeAliquot=c.onChangeAliquot.bind(Object(Ie.a)(c)),c.onChangeStocknotes=c.onChangeStocknotes.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"onChangeQuantity",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({quantity:t}):this.setState({quantity:""});var s,c=function(e){return!isNaN(+e)},a=(c(t),(s=t)&&+s>0);return c&&a?this.setState({isErrorQty:!1}):this.setState({isErrorQty:!0})}},{key:"onChangeAliquot",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({aliquot:t}):this.setState({aliquot:""});var s;return(s=5,function(e){return e&&e.length>=s})(t)?this.setState({isErrorAliq:!1}):this.setState({isErrorAliq:!0})}},{key:"onChangeStocknotes",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({stocknotes:t}):this.setState({stocknotes:""});var s;return(s=5,function(e){return e&&e.length>=s})(t)?this.setState({isErrorNotes:!1}):this.setState({isErrorNotes:!0})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.item._id,s={},c=this.state.quantity,a=(new Date).toISOString(),n=this.props.auth.user.name;0!==c.length&&(s.quantity=c,s.updateqtydate=a,s.updateqtyuser=n);var i=this.state.aliquot,r=(new Date).toISOString(),o=this.props.auth.user.name;0!==i.length&&(s.aliquot=i,s.updatealiqdate=r,s.updatealiquser=o);var l=this.state.stocknotes,j=(new Date).toISOString(),d=this.props.auth.user.name;0!==l.length&&(s.stocknotes=l,s.updatenotedate=j,s.updatenoteuser=d),0!==s.length&&(s.item_id=t,alert("newDetails is "+JSON.stringify(s)),this.props.editDetails(s)),this.props.fetchInStock(),this.toggleModal()}},{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("i",{className:"fa fa-pencil"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Updating info of item:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.article})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"quantity",children:"New Quantity: "}),Object(c.jsx)(ze.a,{type:"text",name:"quantity",id:"quantity",onChange:this.onChangeQuantity,invalid:this.state.isErrorQty&&this.state.quantity}),this.state.isErrorQty&&this.state.quantity?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Must be a valid quantity | In case of zero, set as out of stock."})}):Object(c.jsx)("div",{})]}),Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"aliquot",children:"New Aliquot: "}),Object(c.jsx)(ze.a,{type:"text",name:"aliquot",id:"aliquot",onChange:this.onChangeAliquot,invalid:this.state.isErrorAliq&&this.state.aliquot}),this.state.isErrorAliq&&this.state.aliquot?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Must be at least 5 characters."})}):Object(c.jsx)("div",{})]}),Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"stocknotes",children:"New Additional Notes: "}),Object(c.jsx)(ze.a,{type:"text",name:"stocknotes",id:"stocknotes",onChange:this.onChangeStocknotes,invalid:this.state.isErrorNotes&&this.state.stocknotes}),this.state.isErrorNotes&&this.state.stocknotes?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Must be at least 5 characters."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),Tt=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),It)(Rt)),_t=s(468),At=s(469),Ft=s(470),Ut=s(471),Pt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("i",{className:"fa fa-search"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Details of item:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.article})]}),Object(c.jsxs)(Ye.a,{children:[Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsxs)(Ft.a,{children:[Object(c.jsx)("h5",{className:"text-info",children:"Quantity:"})," "," "," ",e.quantity," "]}),Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Updated by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.updateqtyuser}),Object(c.jsx)("div",{className:"col",children:e.updateqtydate?Object(c.jsx)(st.a,{format:"ll",children:e.updateqtydate}):Object(c.jsx)("div",{})})]})]})]})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsxs)(Ft.a,{children:[Object(c.jsx)("h5",{className:"text-info",children:"Location:"})," "," "," ",e.location," "," "," ",Object(c.jsx)(Dt,{item:e})]}),Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Updated by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.updatelocuser}),Object(c.jsx)("div",{className:"col",children:e.updatelocdate?Object(c.jsx)(st.a,{format:"ll",children:e.updatelocdate}):Object(c.jsx)("div",{})})]})]})]})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsxs)(Ft.a,{children:[Object(c.jsx)("h5",{className:"text-info",children:"Aliquot:"})," "," "," ",e.aliquot]}),Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Updated by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.updatealiquser}),Object(c.jsx)("div",{className:"col",children:e.updatealiqdate?Object(c.jsx)(st.a,{format:"ll",children:e.updatealiqdate}):Object(c.jsx)("div",{})})]})]})]})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsxs)(Ft.a,{children:[Object(c.jsx)("h5",{className:"text-info",children:"Additional notes:"})," "," "," ",e.stocknotes]}),Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Updated by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.updatenoteuser}),Object(c.jsx)("div",{className:"col",children:e.updatenotedate?Object(c.jsx)(st.a,{format:"ll",children:e.updatenotedate}):Object(c.jsx)("div",{})})]})]})]})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsx)(At.a,{children:Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Delivered by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.deliveryuser}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(st.a,{format:"ll",children:e.deliverydate})})]})]})})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsx)(At.a,{children:Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Purchased by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.orderuser}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(st.a,{format:"ll",children:e.orderdate})})]})]})})}),Object(c.jsx)("br",{}),Object(c.jsx)(_t.a,{children:Object(c.jsx)(At.a,{children:Object(c.jsxs)(Ut.a,{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col text-info",children:"Requested by:"}),Object(c.jsx)("div",{className:"col text-info",children:"On:"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col",children:e.requestuser}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(st.a,{format:"ll",children:e.requestdate})})]})]})})}),Object(c.jsx)("br",{})]})]})]})}}]),s}(a.Component),Qt={addOutStock:function(e){return ge(e)},fetchInStock:function(){return ie()}},Bt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,status:"",isError:!1},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onChangeStatus=c.onChangeStatus.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"onChangeStatus",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({status:t,isError:!1}):this.setState({status:""})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.status)return this.setState({isError:!0});var t={item_id:this.props.item._id,category:this.state.status};this.props.addOutStock(t),this.props.fetchInStock(),this.toggleModal()}},{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("span",{className:"text-info",children:"Out of Stock"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Setting as out of stock the item:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.article})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"outofstock",children:"Confirm new status: "}),Object(c.jsx)(vt.a,{sm:10,children:Object(c.jsxs)(ze.a,{type:"select",name:"outofstock",id:"outofstock",onChange:this.onChangeStatus,invalid:this.state.isError&&!this.state.status,children:[Object(c.jsx)("option",{value:"",children:"Select"}),Object(c.jsx)("option",{value:"outofstock",children:"Out of Stock"})]})}),this.state.isError&&!this.state.status?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"New status is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),Gt=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),Qt)(Bt)),Kt={editLocation:function(e){return Oe(e)},fetchInStock:function(){return ie()}},Xt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var c;return Object(l.a)(this,s),(c=t.call(this,e)).state={isModalOpen:!1,isError:!1,imgdata:"",location:""},c.toggleModal=c.toggleModal.bind(Object(Ie.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(Ie.a)(c)),c.onChangeLocation=c.onChangeLocation.bind(Object(Ie.a)(c)),c.onFileChange=c.onFileChange.bind(Object(Ie.a)(c)),c}return Object(j.a)(s,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"onChangeLocation",value:function(e){e.preventDefault();var t=e.target.value;0!==t.length?this.setState({location:t}):this.setState({location:""})}},{key:"onFileChange",value:function(e){e.preventDefault();var t=e.target.files[0];t&&"image/jpeg"===t.type?this.setState({imgdata:t}):this.setState({imgdata:""})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.location||!this.state.imgdata)return this.setState({isError:!0});var t=this.props.item._id,s=this.state.location,c=(new Date).toISOString(),a=this.props.auth.user.name,n=this.state.imgdata,i=new FormData;i.append("item_id",t),i.append("location",s),i.append("imgdata",n),i.append("updatelocdate",c),i.append("updatelocuser",a),this.props.editLocation(i),this.props.fetchInStock(),this.toggleModal()}},{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("div",{children:[Object(c.jsx)(Qe.a,{outline:!0,onClick:this.toggleModal,children:Object(c.jsx)("i",{className:"fa fa-pencil"})}),Object(c.jsxs)(Ke.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(c.jsxs)(Xe.a,{toggle:this.toggleModal,children:["Update location of:",Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{className:"text-primary",children:e.article})]}),Object(c.jsx)(Ye.a,{children:Object(c.jsxs)(Ve.a,{onSubmit:this.handleSubmit,children:[Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"location",children:"Location: "}),Object(c.jsx)(ze.a,{type:"text",name:"location",id:"location",value:this.state.location,onChange:this.onChangeLocation,invalid:this.state.isError&&!this.state.location}),this.state.isError&&!this.state.location?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Location description is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsxs)(Ze.a,{children:[Object(c.jsx)(Je.a,{for:"imgdata",children:"Upload photo as evidence of location: "}),Object(c.jsx)(ze.a,{type:"file",name:"imgdata",id:"imgdata",onChange:this.onFileChange}),this.state.isError&&!this.state.imgdata?Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-danger",children:"Photo of location is required."})}):Object(c.jsx)("div",{})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Qe.a,{type:"submit",color:"primary",children:"Submit"})]})})]})]})}}]),s}(a.Component),Yt=Object(He.g)(Object(Ne.connect)((function(e){return{lastId:e.lastId}}),Kt)(Xt)),Vt={editLocation:function(e){return Oe(e)},fetchInStock:function(){return ie()}},Zt=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[" ",e.id," "]}),Object(c.jsxs)("td",{children:[" ",e.article," "]}),Object(c.jsxs)("td",{children:[" ",e.quantity," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(ft,{item:e})}),Object(c.jsx)("td",{children:Object(c.jsx)(Pt,{item:e})}),Object(c.jsx)("td",{children:Object(c.jsx)(Tt,{auth:this.props.auth,item:e})}),Object(c.jsxs)("td",{children:[" ",e.location," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(Dt,{item:e})}),Object(c.jsx)("td",{children:Object(c.jsx)(Yt,{auth:this.props.auth,item:e})}),Object(c.jsx)("td",{children:Object(c.jsx)(Gt,{item:e})})]})}}]),s}(a.Component),Jt=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth}}),Vt)(Zt)),zt={fetchInStock:function(){return ie()},addInStock:function(e){return je(e)},deleteInStock:function(e){return t=e,function(e){e(be(t))};var t}},Ht=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchInStock()}},{key:"render",value:function(){var e=this;return this.props.instock.isLoading?Object(c.jsx)(bt,{}):this.props.instock.errMess?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsxs)("h4",{children:[" ",this.props.instock.errMess," "]})})})}):Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("table",{className:"table table-sm table-striped table-boredered",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("tr",{children:Object(c.jsx)("th",{colSpan:"12",className:"bg-secondary text-white text-center h4 p-2",children:"ITEMS IN STOCK"})}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Article"}),Object(c.jsx)("th",{children:"Qty now"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:"Details"}),Object(c.jsx)("th",{children:"Edit Details"}),Object(c.jsx)("th",{children:"Location"}),Object(c.jsx)("th",{}),Object(c.jsx)("th",{children:"Edit Location"}),Object(c.jsx)("th",{})]})]}),Object(c.jsx)("tbody",{children:this.props.instock.instock.map((function(t){return Object(c.jsx)(Jt,{item:t,auth:e.props.auth},t.id)}))})]}),0===this.props.instock.instock.length?Object(c.jsx)(Ot,{}):Object(c.jsx)("div",{})]})}}]),s}(a.Component),Wt=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth,instock:e.instock}}),zt)(Ht)),$t=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.item;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[" ",e.id," "]}),Object(c.jsxs)("td",{children:[" ",e.article," "]}),Object(c.jsxs)("td",{children:[" ",e.index," "]}),Object(c.jsxs)("td",{children:[" ",Object(c.jsx)(st.a,{format:"ll",children:e.orderdate})]}),Object(c.jsxs)("td",{children:[" ",e.orderuser," "]}),Object(c.jsxs)("td",{children:[" ",Object(c.jsx)(st.a,{format:"ll",children:e.deliverydate})]}),Object(c.jsxs)("td",{children:[" ",e.deliveryuser," "]}),Object(c.jsx)("td",{children:Object(c.jsx)(ft,{item:e})})]})}}]),s}(a.Component),es={fetchOutStock:function(){return function(e){e(me()),O.a.get("/api/stock/outstock/outstock").then((function(e){return e.data})).then((function(t){return e(fe(t))})).catch((function(t){return e(ve(t.message))}))}},addOutStock:function(e){return ge(e)}},ts=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchOutStock()}},{key:"render",value:function(){return this.props.outstock.isLoading?Object(c.jsx)(bt,{}):this.props.outstock.errMess?Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{class:"row justify-content-center",children:Object(c.jsx)("div",{class:"col-3 text-center",children:Object(c.jsxs)("h4",{children:[" ",this.props.outstock.errMess," "]})})})}):Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("table",{className:"table table-sm table-striped table-boredered",children:[Object(c.jsxs)("thead",{children:[Object(c.jsx)("tr",{children:Object(c.jsx)("th",{colSpan:"12",className:"bg-secondary text-white text-center h4 p-2",children:"ITEMS OUT OF STOCK"})}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"ID"}),Object(c.jsx)("th",{children:"Article"}),Object(c.jsx)("th",{children:"Index"}),Object(c.jsx)("th",{children:"Purchased on"}),Object(c.jsx)("th",{children:"Ordered by"}),Object(c.jsx)("th",{children:"Delivered on"}),Object(c.jsx)("th",{children:"Delivered by"}),Object(c.jsx)("th",{})]})]}),Object(c.jsx)("tbody",{children:this.props.outstock.outstock.map((function(e){return Object(c.jsx)($t,{item:e},e.id)}))})]}),0===this.props.outstock.outstock.length?Object(c.jsx)(Ot,{}):Object(c.jsx)("div",{})]})}}]),s}(a.Component),ss=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth,outstock:e.outstock}}),es)(ts)),cs=s(476),as=s(246),ns=s(242),is=s(130),rs=s(102),os=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).COLORS=["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"],e.pieData=[{name:"ACME XYZ.n Polyclonal Antibody",value:38.85},{name:"Histone H2C.y Polyclonal Antibody",value:17.91},{name:"ACME ABC.w Fluo Marker",value:16.85},{name:"Tungsten Carbide Beads, 3 mm (200)",value:16.14},{name:"Others",value:10.25}],e.CustomTooltip=function(e){var t=e.active,s=e.payload;e.label;return t?Object(c.jsx)("div",{className:"custom-tooltip",style:{backgroundColor:"#ffff",padding:"5px",border:"1px solid #cccc"},children:Object(c.jsx)("label",{children:"".concat(s[0].name," : ").concat(s[0].value,"%")})}):null},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-6 justify-content-center",children:Object(c.jsx)("h1",{children:"Stats on the inventory"})}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsx)("div",{children:Object(c.jsx)("hr",{})}),Object(c.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsxs)("div",{className:"col-6 justify-content-center",children:[Object(c.jsx)("br",{}),Object(c.jsx)("h2",{children:"Annual expenditures: "}),Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)(cs.a,{width:730,height:300,children:[Object(c.jsx)(as.a,{data:this.pieData,color:"#000000",dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:120,fill:"#8884d8",children:this.pieData.map((function(t,s){return Object(c.jsx)(ns.a,{fill:e.COLORS[s%e.COLORS.length]},"cell-".concat(s))}))}),Object(c.jsx)(is.a,{content:Object(c.jsx)(this.CustomTooltip,{})}),Object(c.jsx)(rs.a,{})]})}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("hr",{})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})]})}}]),s}(a.Component),ls=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){return Object(c.jsx)(n.a.Fragment,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})}),Object(c.jsxs)("div",{className:"row justify-content-md-center",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsx)(Ft.a,{children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("b",{children:"Demo version "})," of the inventory application"]})}),Object(c.jsxs)(Ut.a,{children:[Object(c.jsx)("p",{className:"flow-text grey-text text-darken-1",children:"Access via web and through your browser start managing your inventory"}),Object(c.jsx)("br",{})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col s6",children:Object(c.jsx)(u.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-outline-info",children:"Register"})}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{className:"col s6",children:Object(c.jsx)(u.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-outline-info",children:"Log in"})})]})]})})}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})})]})})}}]),s}(a.Component),js=s(80),ds=s(475),hs=s(5),us=s.n(hs),bs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).onChange=function(t){e.setState(Object(js.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(s,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(c.jsx)(n.a.Fragment,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsxs)("div",{className:"col-sm-6 text-right",children:[Object(c.jsx)("br",{}),Object(c.jsx)(u.b,{to:"/",children:Object(c.jsxs)("i",{class:"fa fa-arrow-circle-left fa-lg",children:[" ","Back to info"]})})]}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-sm-6",children:Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsx)(Ft.a,{children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("b",{children:"Register"})," below"]})}),Object(c.jsx)(ds.a,{children:Object(c.jsxs)("h5",{children:["Already have an account? ",Object(c.jsx)(u.b,{to:"/login",children:"Log in"})]})}),Object(c.jsx)(Ut.a,{children:Object(c.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:us()("",{invalid:e.name})})," ",Object(c.jsx)("span",{className:"text-danger",children:e.name})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:us()("",{invalid:e.email})})," ",Object(c.jsx)("span",{className:"text-danger",children:e.email})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:us()("",{invalid:e.password})})," ",Object(c.jsx)("span",{className:"text-danger",children:e.password})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:us()("",{invalid:e.password2})})," ",Object(c.jsx)("span",{className:"text-danger",children:e.password2})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(c.jsx)(Qe.a,{className:"btn-info",children:"Sign up"})})]})})]})})}),Object(c.jsx)("div",{className:"col"})]})]})})}}]),s}(a.Component),Os=Object(Ne.connect)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(s){O.a.post("/api/users/signup",e).then((function(e){return t.push("/login")})).catch((function(e){return s({type:m,payload:e.response.data})}))}}})(Object(He.g)(bs)),xs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).onChange=function(t){e.setState(Object(js.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var s={email:e.state.email,password:e.state.password};e.props.loginUser(s)},e.state={email:"",password:"",errors:{}},e}return Object(j.a)(s,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(c.jsx)(n.a.Fragment,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsxs)("div",{className:"col-sm-6 text-right",children:[Object(c.jsx)("br",{}),Object(c.jsx)(u.b,{to:"/",children:Object(c.jsxs)("i",{class:"fa fa-arrow-circle-left fa-lg",children:[" ","Back to info"]})})]}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-sm-6",children:Object(c.jsx)(_t.a,{children:Object(c.jsxs)(At.a,{children:[Object(c.jsx)(Ft.a,{children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("b",{children:"Login"})," below"]})}),Object(c.jsx)(ds.a,{children:Object(c.jsxs)("h5",{children:["Don't have an account? ",Object(c.jsx)(u.b,{to:"/register",children:"Register"})]})}),Object(c.jsx)(Ut.a,{children:Object(c.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:us()("",{invalid:e.email||e.emailnotfound})})," ",Object(c.jsxs)("span",{className:"text-danger",children:[e.email,e.emailnotfound]})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"input-field col s12",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:us()("",{invalid:e.password||e.passwordincorrect})})," ",Object(c.jsxs)("span",{className:"text-danger",children:[e.password,e.passwordincorrect]})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(c.jsx)(Qe.a,{className:"btn-info",children:"Login"})})]})})]})})}),Object(c.jsx)("div",{className:"col"})]})]})})}}]),s}(a.Component),ps=Object(Ne.connect)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){O.a.post("/api/users/login",e).then((function(e){var s=e.data.token;localStorage.setItem("jwtToken",s),x(s);var c=Object(p.a)(s);t(G(c))})).catch((function(e){return t({type:m,payload:e.response.data})}))}}})(xs),ms=s.p+"static/media/dashboard_background.693c7141.JPG",fs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(j.a)(s,[{key:"render",value:function(){var e=this.props.auth.user;return Object(c.jsx)(n.a.Fragment,{children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm-1 col-xs-4"}),Object(c.jsx)("div",{className:"col-sm-4",children:Object(c.jsxs)("h2",{className:"text-color-grey",children:[Object(c.jsx)("b",{children:"Hey there,"})," ",e.name.split(" ")[0]]})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm-4"}),Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("img",{src:ms})}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-sm-9",children:Object(c.jsx)("hr",{})}),Object(c.jsx)("div",{className:"col"})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col-sm-9 text-center",children:Object(c.jsx)(Qe.a,{outline:!0,onClick:this.onLogoutClick,children:"Logout"})}),Object(c.jsx)("div",{className:"col"})]})]})})}}]),s}(a.Component),vs=Object(Ne.connect)((function(e){return{auth:e.auth}}),{logoutUser:K})(fs),gs={logoutUser:function(){return K()}},ys=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(Be,{auth:this.props.auth,logoutUser:this.props.logoutUser}),Object(c.jsx)("br",{}),!0===this.props.auth.isAuthenticated?Object(c.jsxs)(He.d,{children:[Object(c.jsx)(He.b,{exact:!0,path:"/",component:vs}),Object(c.jsx)(He.b,{exact:!0,path:"/requests",component:mt}),Object(c.jsx)(He.b,{exact:!0,path:"/orders",component:Lt}),Object(c.jsx)(He.b,{exact:!0,path:"/instock",component:Wt}),Object(c.jsx)(He.b,{exact:!0,path:"/outofstock",component:ss}),Object(c.jsx)(He.b,{exact:!0,path:"/stats",component:os}),Object(c.jsx)(He.a,{to:"/"})]}):Object(c.jsxs)(He.d,{children:[Object(c.jsx)(He.b,{exact:!0,path:"/",component:ls}),Object(c.jsx)(He.b,{exact:!0,path:"/register",component:Os}),Object(c.jsx)(He.b,{exact:!0,path:"/login",component:ps})]}),Object(c.jsx)("br",{}),Object(c.jsx)(Ge,{})]})}}]),s}(a.Component),Ns=Object(He.g)(Object(Ne.connect)((function(e){return{auth:e.auth}}),gs)(ys));if(localStorage.jwtToken){var ks=localStorage.jwtToken;x(ks);var Ss=Object(p.a)(ks);De.dispatch(G(Ss));var ws=Date.now()/1e3;Ss.exp<ws&&(De.dispatch(K()),window.location.href="./login")}var Cs=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(j.a)(s,[{key:"render",value:function(){return Object(c.jsx)(Ne.Provider,{store:De,children:Object(c.jsx)(u.a,{children:Object(c.jsx)(Ns,{})})})}}]),s}(a.Component);r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(Cs,{})}),document.getElementById("root")),o()}},[[451,1,2]]]);
//# sourceMappingURL=main.60d86cef.chunk.js.map